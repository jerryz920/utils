#!/bin/bash

tag=${1:-latest}

echo "entering the working mode"
docker container ls -a --format "{{.Names}}" | grep '\<dev\>'
if [ $? -ne 0 ]; then
docker create --rm -it -v src:/src -v /var/run/docker.sock:/var/run/docker.sock --hostname dev.local --name dev dev:${tag} bash
docker network connect devnet dev
docker container start -i dev
else
docker exec -it dev bash
fi
